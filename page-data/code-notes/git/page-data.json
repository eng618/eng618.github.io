{"componentChunkName":"component---src-pages-code-notes-git-mdx","path":"/code-notes/git/","result":{"pageContext":{"frontmatter":{"layout":"note","title":"git","author":"Eric Garcia","updateBy":"Eric Garcia","last_updated":"2017-06-09T00:00:00.000Z","category":"git","tags":"git"},"relativePagePath":"/code-notes/git.mdx","titleType":"prepend","MdxNode":{"id":"72429e07-eb32-5fef-9bff-4f513a3e6ea2","children":[],"parent":"821d9fab-6a96-5419-bdec-de46dc59e72b","internal":{"content":"---\nlayout: note\ntitle: git\nauthor: 'Eric Garcia'\nupdateBy: Eric Garcia\nlast_updated: 2017-06-09\ncategory: git\ntags: 'git'\n---\n\n<PageDescription>\n\nThis page is designed to unify all the tips and tricks associated with using git. Please feel free to modify and update as needed.\n\n</PageDescription>\n\n<AnchorLinks>\n  <AnchorLink>Commits</AnchorLink>\n  <AnchorLink>Checkout</AnchorLink>\n  <AnchorLink>Branching</AnchorLink>\n  <AnchorLink>Clean</AnchorLink>\n  <AnchorLink>Diff</AnchorLink>\n  <AnchorLink>Excluding files</AnchorLink>\n  <AnchorLink>Forking</AnchorLink>\n  <AnchorLink>.gitignore</AnchorLink>\n  <AnchorLink>Merge conflicts</AnchorLink>\n  <AnchorLink>Undoing commits</AnchorLink>\n  <AnchorLink>Other Configurations</AnchorLink>\n</AnchorLinks>\n\n## Commits\n\n### Amending a Commit Message\n\nChanging a commit message can cause lots of problems if not handled correctly. Only use the following if **absolutely** necessary.\n\n### Local commits\n\nTo open your editor, allowing you to change the commit message of the most recent commit:\n\n```shell\ngit commit --amend\n```\n\nAdditionally, you can set the commit message directly in the command line with:\n\n```shell\ngit commit --amend -m \"New commit message\"\n```\n\n…however, this can make multi-line commit messages or small corrections more cumbersome to enter.\n\n<InlineNotification kind=\"warning\">\n\nMake sure you don't have any working directory changes before doing this or they can get committed too.\n\n</InlineNotification>\n\n### Remote commits\n\nChanging the message of a commit that you've already pushed to your remote branch\n\n**Warning:** be cautious about amending commits that you have already shared with other people. Amending commits essentially rewrites them to have different SHA IDs, which poses a problem if other people have copies of the old commit that you've rewritten. Anyone who has a copy of the old commit will need to re-synchronize their work with your newly re-written commit, which can sometimes be difficult, so make sure you coordinate with others when attempting to rewrite shared commit history, or just avoid rewriting shared commits altogether.\n\nIf you've already pushed your commit up to your remote branch, then you'll need to force push the commit with\n\n```shell\ngit push <remote> <branch> --force\n```\n\nOr\n\n```shell\ngit push <remote> <branch> -f\n```\n\n**Warning:** force-pushing will overwrite the remote branch with the state of your local one. If there are commits on the remote branch that you don't have in your local branch, you will lose those commits.\n\n### Past Commits\n\n[source](https://stackoverflow.com/a/1186549/2218959)\n\nYou can use rebase to edit a past commit by passing the commit hash, with the following:\n\n```shell\ngit rebase -i '<commit-hash>^'\n```\n\nOnce your editor is opened with the rebase dialog, put edit as the action word for that commit. Save and close. Open the project and make the changes you wanted to update to that commit. To keep the same commit message you have previously use:\n\n```shell\ngit commit --all --amend --no-edit\n```\n\nNow you can use `git rebase --continue` and go a `git push -f` to force push your changes to the remote repo.\n\n## Checkout\n\nTo check out a file form another branch:\n\n```shell\ngit checkout <src-branch> -- <path/to/file>\n```\n\n## Branching\n\n<AnchorLinks small>\n  <AnchorLink>Resetting local branch to match remote</AnchorLink>\n  <AnchorLink>Deleting a remote branch</AnchorLink>\n  <AnchorLink>Local branches</AnchorLink>\n  <AnchorLink>Delete all local branches except main</AnchorLink>\n  <AnchorLink>References to remote branches</AnchorLink>\n  <AnchorLink>Remote branches</AnchorLink>\n</AnchorLinks>\n\n> I follow git branching naming convention outline in this [gist](https://gist.github.com/digitaljhelms/4287848)\n\nList all branches including remotes\n\n```shell\ngit branch -a\n```\n\n### Resetting local branch to match remote\n\nBack to main header: [Branching](#branching)\n\nSetting your branch to exactly match the remote branch can be done in two steps:\n\n```shell\ngit fetch origin\ngit reset --hard origin/master\n```\n\nIf you want to save your current branch's state before doing this (just in case), you can do:\n\n```shell\ngit commit -a -m \"Saving my work, just in case\"\ngit branch my-saved-work\n```\n\n<InlineNotification>\n\nAlso see [git clean](#clean)\n\n</InlineNotification>\n\n### Deleting a remote branch\n\nBack to main header: [Branching](#branching)\n\n```shell\ngit push origin :<branch-name>\n```\n\n### Local branches\n\nBack to main header: [Branching](#branching)\n\n**Sourced From:** [Git housekeeping tutorial](http://railsware.com/blog/2014/08/11/git-housekeeping-tutorial-clean-up-outdated-branches-in-local-and-remote-repositories/)\n\nAt first, list all local branches:\n\n```shell\ngit branch\n```\n\nWe need to know what branches are already merged in “master” and can be easily removed:\n\n```shell\ngit checkout master\ngit branch --merged\n```\n\nNow, remove all outdated branches with:\n\n```shell\ngit branch -d <branch-name-old-merged-feature>\n```\n\nNext, decide what to do with not merged branches:\n\n```shell\ngit branch --no-merged\n```\n\nIf some of them is just abandoned stuff that you don’t need anymore, remove it with “-D” option:\n\n```shell\ngit branch -D old-abandoned-feature\n```\n\n### Delete all local branches except main\n\nBack to main header: [Branching](#branching)\n\nYou can do a dry run to see all branches this command will delete first by running the following:\n\n```shell\ngit branch | grep -v $(git_main_branch)\n```\n\nIf this matches what you are looking to delete, you can run the following to actually delete the branch.\n\n```shell\ngit branch | grep -v $(git_main_branch) | xargs git branch -D\n```\n\n[source](https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/delete-all-branches-except-master-main-local-remote)\n\n### References to remote branches\n\nBack to main header: [Branching](#branching)\n\nAfter each git pull or git fetch command Git creates references to remote branches in local repository, but doesn’t clean up stale references.\n\nList referenced remote branches:\n\n```shell\ngit branch -r\n```\n\nClean-up outdated references:\n\n```shell\ngit remote prune origin\n```\n\n<InlineNotification>\n\nUpdate repository with: `git fetch -p` and Git automatically prunes all stale references.\n\n</InlineNotification>\n\n### Remote branches\n\nBack to main header: [Branching](#branching)\n\nUsually, remote repository is a big garbage heap of stale branches, if there is no responsible housekeeping person.\n\nAfter previous `git remote prune origin` we should have synched list of remote branches.\n\nAt first, we can find branches which are already merged in “master”:\n\n```shell\ngit checkout master\n$ git branch -r --merged\n```\n\nBut this command does not provide much information. What if this branch is merged, but still used for feature development. Would be cool to know last commit date and author.\n\nThis magic snippet provides all required information:\n\n```shell\nfor branch in `git branch -r --merged | grep -v HEAD`; do echo -e `git show --format=\"%ci %cr %an\" $branch | head -n 1` \\\\t$branch; done | sort -r\n```\n\nNow, you can delete own remote branches, and ask other authors to clean-up theirs:\n\n```shell\ngit push origin --delete branch-name\n```\n\nSimilar snippet for not merged branches:\n\n```shell\nfor branch in `git branch -r --no-merged | grep -v HEAD`; do echo -e `git show --format=\"%ci %cr %an\" $branch | head -n 1` \\\\t$branch; done | sort -r\n```\n\nThis list should be reviewed more thoroughly to avoid losing important commits.\n\n## Clean\n\nPerform a “dry run” of `git clean`. This will show you which files are going to be removed without actually doing it.\n\n```shell\ngit clean -n\n```\n\nRemove untracked files from the current directory. The `-f` (force) flag is required unless the clean.requireForce configuration option is set to false (it's true by default). This will not remove untracked folders or files specified by .gitignore.\n\n```shell\ngit clean -f\n```\n\nRemove untracked files, but limit the operation to the specified path.\n\n```shell\ngit clean -f <path>\n```\n\nRemove untracked files and untracked directories from the current directory.\n\n```shell\ngit clean -df\n```\n\nRemove untracked files from the current directory as well as any files that Git usually ignores.\n\n```shell\ngit clean -xf\n```\n\n### Example\n\n- Edit some existing files\n- Add some new files\n- Realize you have no idea what you're doing\n\nUndo changes in tracked files\n\n```shell\ngit reset --hard\n```\n\nRemove untracked files\n\n```shell\ngit clean -df\n```\n\n## Diff\n\nSimply use `git diff` and a file name to check difference between committed and non staged changes.\n\n```shell\ngit diff FILE_NAME\n```\n\nIf you need to verify the difference of a file that is already staged use the following.\n\n```shell\ngit diff --staged FILE_NAME\n```\n\nIf you you want to diff two branches use the following.\n\n```shell\ngit diff main...develop\n\n# or to compare with the current branch simply\ngit diff OTHER_BRANCH_NAME\n```\n\nYou can also use some useful flags with this command if the output it to great.\n\n- `--name-only` to see only the file names.\n- `-- fileOrDirectory` add this to the end if you want to check only a particular file or directory.\n\n### Git diff with opendiff\n\n[Source](https://thomashunter.name/blog/set-opendiff-filemerge-as-your-git-diff-tool-on-os-x/)\n\n```shell\nmkdir ~/bin/\ntouch ~/bin/git-diff.sh\n```\n\nThe contents of the file will look like this:\n\n```shell\n#!/bin/sh\n/usr/bin/opendiff \"$2\" \"$5\" -merge \"$1\"\n```\n\nOnce the script has been made, you’ll want it to be executable\n\n```shell\nchmod u+x ~/bin/git-diff.sh\n```\n\nFinally, tell git that you want to set it up as your default merge tool:\n\n```shell\ngit config --global diff.external ~/bin/git-diff.sh\n```\n\nIf you later decide you hate it, run this command to go back:\n\n```shell\ngit config --global --unset diff.external\n```\n\n## Excluding files\n\n### Ignoring tracked files in your local repo\n\n```shell\ngit update-index --skip-worktree SOME_FILE\n```\n\nor\n\n```shell\ngit update-index --assume-unchanged SOME_FILE\n```\n\nTo undo assume unchanged\n\n```shell\ngit update-index --no-assume-unchanged SOME_FILE\n```\n\nIf using `assume-unchanged` you can add the following to your **~/.gitconfig**\n\nThis will allow you to use the alias `git ignored` to list all excluded files\n\n```shell\n[alias]\n ignored = !git ls-files -v | grep \"^[[:lower:]]\"\n```\n\n### Ignoring un-tracked files in your local repo\n\n> Untested\n\nIf you ever want to ignore a file from git, but don't want to add it to the **.gitignore** file, you can do it on your local copy by adding it to the file **.git/info/exclude**\n\nI've setup an alias to do so, just add this to your **.gitconfig** file under the `[alias]` section\n\n```shell\nexclude = !sh -c 'echo \"$1\" >> .git/info/exclude' -\n```\n\nThen you can execute:\n\n```shell\ngit exclude SOME_FILE\n```\n\n## Forking\n\n[Source](http://stackoverflow.com/questions/9153598/how-do-i-fetch-a-branch-on-someone-elses-fork-on-github)\n\nWhen needing to work with a new branch on a forked repo you have to create a new branch in your local fork that references that branch. This can be accomplished by:\n\n```shell\ngit remote add theirUsername git@github.com:theirUsername/repoName.git\ngit fetch theirUsername\ngit checkout -b my_name_for_their_branch theirUsername/theirBranch\n```\n\n### Example\n\nFollowing directions for [Keeping your fork in sync](https://github.ibm.com/MFPSamples/DevCenter/wiki/Keep-fork-in-sync) for the DevCetner.\n\nIn this example I will be demonstrating creating a `GA` branch from `upstream`, in my local environment. I will be prefixing the remote `GA` branch with my initials to have a differentiation between the `upstream` branch and my local (forked) copy.\n\nYou can set `upstream` as the repo to follow (**userName**)\n\n```sh\ngit remote add upstream git@github.ibm.com:MFPSamples/DevCenter\n```\n\nOnce this is done your are free to `fetch` and `pull` code from the `upstream` witch is the source repo for all changes (representing another **userName**).\n\n```sh\ngit fetch upstream\ngit merge upstream/master\n```\n\n**Note:** This is assuming you are trying to merge to you local (forked) `master` branch\n\nIf you need to work off a branch that is in the `upstream` but not in your local repository (forked) you can create it with a link to upstream as follows:\n\n```sh\ngit checkout -b ENG-GA upstream/GA\n```\n\nThis line creates a local branch `ENG-GA` based on `upstream/GA`. So now you can make updates to your local repo `ENG-GA` and then push it back to `upstream/GA` which should help reduce merge conflicts. You still want to be sure to keep your local (forked) branch up to date if your changes will happen over time. Periodically you will need to merge `upstream/GA` with the following:\n\n```sh\ngit fetch upstream\ngit merge upstream/GA\n```\n\nOnce you are ready to submit your changes back to upstream you can create a pull request via [_github.com_](github.ibm.com). Ensuring that your base branch is `GA` and the head branch is `ENG-GA`. See image for details.\n\n![Pull Request](../forking/git-pull-request.png)\n\n## .gitignore\n\n### Untracking a single file\n\nTo untrack a single file that has already been added/initialized to your repository, i.e., stop tracking the file but not delete it from your system use:\n\n```shell\ngit rm --cached filename\n```\n\n### Untracking all files\n\nTo untrack every file that is now in your **.gitignore**:\n\n1. Commit any outstanding code changes, and then, run this command:\n\n   ```shell\n   git commit -m \"Commit message\"\n   ```\n\n2. This removes any changed files from the index(staging area), then just run:\n\n   ```shell\n   git rm -r --cached .\n   ```\n\n3. Add all tracked changes\n\n   ```shell\n   git add .\n   ```\n\n4. Commit it:\n\n   ```shell\n   git commit -m \".gitignore is now working\"\n   ```\n\n## Merge conflicts\n\n### Local changes to same files\n\nTo resolve merge conflicts with error.\n\n```shell\nerror: Your local changes to the following files would be overwritten by merge:\n```\n\nTo stash entire working tree\n\n```shell\ngit stash save --keep-index\n```\n\nNow you will be able to merge branch successfully\n\nIf you do not need your local changes you can simple drop the stash\n\n```shell\ngit stash drop\n```\n\nor...if you need your changes you can attempt to process them in now using pop\n\n```shell\ngit stash pop\n```\n\nTo show what is in your stash use show\n\n```shell\ngit stash show\n```\n\n## Undoing commits\n\n[source](http://stackoverflow.com/questions/927358/how-do-you-undo-the-last-commit)\n\n```shell\ngit commit -m \"Something terribly misguided\"\ngit reset --soft HEAD~\n# << edit files as necessary >>\ngit add ...\ngit commit -m \"New commit message\"\ngit commit -c ORIG_HEAD\n```\n\n[source](http://stackoverflow.com/questions/3197413/how-do-i-delete-unpushed-git-commits)\n\nDelete the most recent commit, keeping the work you've done:\n\n`git reset --soft HEAD~1`\n\nDelete the most recent commit, destroying the work you've done:\n\n`git reset --hard HEAD~1`\n\n## Other Configurations\n\n```shell\ngit config --global core.trustctime false\n```\n\n[source](https://stackoverflow.com/a/21891017/2218959)\n","type":"Mdx","contentDigest":"40db16228f64e4dbc0cef1251e935d12","owner":"gatsby-plugin-mdx","counter":204},"frontmatter":{"layout":"note","title":"git","author":"Eric Garcia","updateBy":"Eric Garcia","last_updated":"2017-06-09T00:00:00.000Z","category":"git","tags":"git"},"exports":{},"rawBody":"---\nlayout: note\ntitle: git\nauthor: 'Eric Garcia'\nupdateBy: Eric Garcia\nlast_updated: 2017-06-09\ncategory: git\ntags: 'git'\n---\n\n<PageDescription>\n\nThis page is designed to unify all the tips and tricks associated with using git. Please feel free to modify and update as needed.\n\n</PageDescription>\n\n<AnchorLinks>\n  <AnchorLink>Commits</AnchorLink>\n  <AnchorLink>Checkout</AnchorLink>\n  <AnchorLink>Branching</AnchorLink>\n  <AnchorLink>Clean</AnchorLink>\n  <AnchorLink>Diff</AnchorLink>\n  <AnchorLink>Excluding files</AnchorLink>\n  <AnchorLink>Forking</AnchorLink>\n  <AnchorLink>.gitignore</AnchorLink>\n  <AnchorLink>Merge conflicts</AnchorLink>\n  <AnchorLink>Undoing commits</AnchorLink>\n  <AnchorLink>Other Configurations</AnchorLink>\n</AnchorLinks>\n\n## Commits\n\n### Amending a Commit Message\n\nChanging a commit message can cause lots of problems if not handled correctly. Only use the following if **absolutely** necessary.\n\n### Local commits\n\nTo open your editor, allowing you to change the commit message of the most recent commit:\n\n```shell\ngit commit --amend\n```\n\nAdditionally, you can set the commit message directly in the command line with:\n\n```shell\ngit commit --amend -m \"New commit message\"\n```\n\n…however, this can make multi-line commit messages or small corrections more cumbersome to enter.\n\n<InlineNotification kind=\"warning\">\n\nMake sure you don't have any working directory changes before doing this or they can get committed too.\n\n</InlineNotification>\n\n### Remote commits\n\nChanging the message of a commit that you've already pushed to your remote branch\n\n**Warning:** be cautious about amending commits that you have already shared with other people. Amending commits essentially rewrites them to have different SHA IDs, which poses a problem if other people have copies of the old commit that you've rewritten. Anyone who has a copy of the old commit will need to re-synchronize their work with your newly re-written commit, which can sometimes be difficult, so make sure you coordinate with others when attempting to rewrite shared commit history, or just avoid rewriting shared commits altogether.\n\nIf you've already pushed your commit up to your remote branch, then you'll need to force push the commit with\n\n```shell\ngit push <remote> <branch> --force\n```\n\nOr\n\n```shell\ngit push <remote> <branch> -f\n```\n\n**Warning:** force-pushing will overwrite the remote branch with the state of your local one. If there are commits on the remote branch that you don't have in your local branch, you will lose those commits.\n\n### Past Commits\n\n[source](https://stackoverflow.com/a/1186549/2218959)\n\nYou can use rebase to edit a past commit by passing the commit hash, with the following:\n\n```shell\ngit rebase -i '<commit-hash>^'\n```\n\nOnce your editor is opened with the rebase dialog, put edit as the action word for that commit. Save and close. Open the project and make the changes you wanted to update to that commit. To keep the same commit message you have previously use:\n\n```shell\ngit commit --all --amend --no-edit\n```\n\nNow you can use `git rebase --continue` and go a `git push -f` to force push your changes to the remote repo.\n\n## Checkout\n\nTo check out a file form another branch:\n\n```shell\ngit checkout <src-branch> -- <path/to/file>\n```\n\n## Branching\n\n<AnchorLinks small>\n  <AnchorLink>Resetting local branch to match remote</AnchorLink>\n  <AnchorLink>Deleting a remote branch</AnchorLink>\n  <AnchorLink>Local branches</AnchorLink>\n  <AnchorLink>Delete all local branches except main</AnchorLink>\n  <AnchorLink>References to remote branches</AnchorLink>\n  <AnchorLink>Remote branches</AnchorLink>\n</AnchorLinks>\n\n> I follow git branching naming convention outline in this [gist](https://gist.github.com/digitaljhelms/4287848)\n\nList all branches including remotes\n\n```shell\ngit branch -a\n```\n\n### Resetting local branch to match remote\n\nBack to main header: [Branching](#branching)\n\nSetting your branch to exactly match the remote branch can be done in two steps:\n\n```shell\ngit fetch origin\ngit reset --hard origin/master\n```\n\nIf you want to save your current branch's state before doing this (just in case), you can do:\n\n```shell\ngit commit -a -m \"Saving my work, just in case\"\ngit branch my-saved-work\n```\n\n<InlineNotification>\n\nAlso see [git clean](#clean)\n\n</InlineNotification>\n\n### Deleting a remote branch\n\nBack to main header: [Branching](#branching)\n\n```shell\ngit push origin :<branch-name>\n```\n\n### Local branches\n\nBack to main header: [Branching](#branching)\n\n**Sourced From:** [Git housekeeping tutorial](http://railsware.com/blog/2014/08/11/git-housekeeping-tutorial-clean-up-outdated-branches-in-local-and-remote-repositories/)\n\nAt first, list all local branches:\n\n```shell\ngit branch\n```\n\nWe need to know what branches are already merged in “master” and can be easily removed:\n\n```shell\ngit checkout master\ngit branch --merged\n```\n\nNow, remove all outdated branches with:\n\n```shell\ngit branch -d <branch-name-old-merged-feature>\n```\n\nNext, decide what to do with not merged branches:\n\n```shell\ngit branch --no-merged\n```\n\nIf some of them is just abandoned stuff that you don’t need anymore, remove it with “-D” option:\n\n```shell\ngit branch -D old-abandoned-feature\n```\n\n### Delete all local branches except main\n\nBack to main header: [Branching](#branching)\n\nYou can do a dry run to see all branches this command will delete first by running the following:\n\n```shell\ngit branch | grep -v $(git_main_branch)\n```\n\nIf this matches what you are looking to delete, you can run the following to actually delete the branch.\n\n```shell\ngit branch | grep -v $(git_main_branch) | xargs git branch -D\n```\n\n[source](https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/delete-all-branches-except-master-main-local-remote)\n\n### References to remote branches\n\nBack to main header: [Branching](#branching)\n\nAfter each git pull or git fetch command Git creates references to remote branches in local repository, but doesn’t clean up stale references.\n\nList referenced remote branches:\n\n```shell\ngit branch -r\n```\n\nClean-up outdated references:\n\n```shell\ngit remote prune origin\n```\n\n<InlineNotification>\n\nUpdate repository with: `git fetch -p` and Git automatically prunes all stale references.\n\n</InlineNotification>\n\n### Remote branches\n\nBack to main header: [Branching](#branching)\n\nUsually, remote repository is a big garbage heap of stale branches, if there is no responsible housekeeping person.\n\nAfter previous `git remote prune origin` we should have synched list of remote branches.\n\nAt first, we can find branches which are already merged in “master”:\n\n```shell\ngit checkout master\n$ git branch -r --merged\n```\n\nBut this command does not provide much information. What if this branch is merged, but still used for feature development. Would be cool to know last commit date and author.\n\nThis magic snippet provides all required information:\n\n```shell\nfor branch in `git branch -r --merged | grep -v HEAD`; do echo -e `git show --format=\"%ci %cr %an\" $branch | head -n 1` \\\\t$branch; done | sort -r\n```\n\nNow, you can delete own remote branches, and ask other authors to clean-up theirs:\n\n```shell\ngit push origin --delete branch-name\n```\n\nSimilar snippet for not merged branches:\n\n```shell\nfor branch in `git branch -r --no-merged | grep -v HEAD`; do echo -e `git show --format=\"%ci %cr %an\" $branch | head -n 1` \\\\t$branch; done | sort -r\n```\n\nThis list should be reviewed more thoroughly to avoid losing important commits.\n\n## Clean\n\nPerform a “dry run” of `git clean`. This will show you which files are going to be removed without actually doing it.\n\n```shell\ngit clean -n\n```\n\nRemove untracked files from the current directory. The `-f` (force) flag is required unless the clean.requireForce configuration option is set to false (it's true by default). This will not remove untracked folders or files specified by .gitignore.\n\n```shell\ngit clean -f\n```\n\nRemove untracked files, but limit the operation to the specified path.\n\n```shell\ngit clean -f <path>\n```\n\nRemove untracked files and untracked directories from the current directory.\n\n```shell\ngit clean -df\n```\n\nRemove untracked files from the current directory as well as any files that Git usually ignores.\n\n```shell\ngit clean -xf\n```\n\n### Example\n\n- Edit some existing files\n- Add some new files\n- Realize you have no idea what you're doing\n\nUndo changes in tracked files\n\n```shell\ngit reset --hard\n```\n\nRemove untracked files\n\n```shell\ngit clean -df\n```\n\n## Diff\n\nSimply use `git diff` and a file name to check difference between committed and non staged changes.\n\n```shell\ngit diff FILE_NAME\n```\n\nIf you need to verify the difference of a file that is already staged use the following.\n\n```shell\ngit diff --staged FILE_NAME\n```\n\nIf you you want to diff two branches use the following.\n\n```shell\ngit diff main...develop\n\n# or to compare with the current branch simply\ngit diff OTHER_BRANCH_NAME\n```\n\nYou can also use some useful flags with this command if the output it to great.\n\n- `--name-only` to see only the file names.\n- `-- fileOrDirectory` add this to the end if you want to check only a particular file or directory.\n\n### Git diff with opendiff\n\n[Source](https://thomashunter.name/blog/set-opendiff-filemerge-as-your-git-diff-tool-on-os-x/)\n\n```shell\nmkdir ~/bin/\ntouch ~/bin/git-diff.sh\n```\n\nThe contents of the file will look like this:\n\n```shell\n#!/bin/sh\n/usr/bin/opendiff \"$2\" \"$5\" -merge \"$1\"\n```\n\nOnce the script has been made, you’ll want it to be executable\n\n```shell\nchmod u+x ~/bin/git-diff.sh\n```\n\nFinally, tell git that you want to set it up as your default merge tool:\n\n```shell\ngit config --global diff.external ~/bin/git-diff.sh\n```\n\nIf you later decide you hate it, run this command to go back:\n\n```shell\ngit config --global --unset diff.external\n```\n\n## Excluding files\n\n### Ignoring tracked files in your local repo\n\n```shell\ngit update-index --skip-worktree SOME_FILE\n```\n\nor\n\n```shell\ngit update-index --assume-unchanged SOME_FILE\n```\n\nTo undo assume unchanged\n\n```shell\ngit update-index --no-assume-unchanged SOME_FILE\n```\n\nIf using `assume-unchanged` you can add the following to your **~/.gitconfig**\n\nThis will allow you to use the alias `git ignored` to list all excluded files\n\n```shell\n[alias]\n ignored = !git ls-files -v | grep \"^[[:lower:]]\"\n```\n\n### Ignoring un-tracked files in your local repo\n\n> Untested\n\nIf you ever want to ignore a file from git, but don't want to add it to the **.gitignore** file, you can do it on your local copy by adding it to the file **.git/info/exclude**\n\nI've setup an alias to do so, just add this to your **.gitconfig** file under the `[alias]` section\n\n```shell\nexclude = !sh -c 'echo \"$1\" >> .git/info/exclude' -\n```\n\nThen you can execute:\n\n```shell\ngit exclude SOME_FILE\n```\n\n## Forking\n\n[Source](http://stackoverflow.com/questions/9153598/how-do-i-fetch-a-branch-on-someone-elses-fork-on-github)\n\nWhen needing to work with a new branch on a forked repo you have to create a new branch in your local fork that references that branch. This can be accomplished by:\n\n```shell\ngit remote add theirUsername git@github.com:theirUsername/repoName.git\ngit fetch theirUsername\ngit checkout -b my_name_for_their_branch theirUsername/theirBranch\n```\n\n### Example\n\nFollowing directions for [Keeping your fork in sync](https://github.ibm.com/MFPSamples/DevCenter/wiki/Keep-fork-in-sync) for the DevCetner.\n\nIn this example I will be demonstrating creating a `GA` branch from `upstream`, in my local environment. I will be prefixing the remote `GA` branch with my initials to have a differentiation between the `upstream` branch and my local (forked) copy.\n\nYou can set `upstream` as the repo to follow (**userName**)\n\n```sh\ngit remote add upstream git@github.ibm.com:MFPSamples/DevCenter\n```\n\nOnce this is done your are free to `fetch` and `pull` code from the `upstream` witch is the source repo for all changes (representing another **userName**).\n\n```sh\ngit fetch upstream\ngit merge upstream/master\n```\n\n**Note:** This is assuming you are trying to merge to you local (forked) `master` branch\n\nIf you need to work off a branch that is in the `upstream` but not in your local repository (forked) you can create it with a link to upstream as follows:\n\n```sh\ngit checkout -b ENG-GA upstream/GA\n```\n\nThis line creates a local branch `ENG-GA` based on `upstream/GA`. So now you can make updates to your local repo `ENG-GA` and then push it back to `upstream/GA` which should help reduce merge conflicts. You still want to be sure to keep your local (forked) branch up to date if your changes will happen over time. Periodically you will need to merge `upstream/GA` with the following:\n\n```sh\ngit fetch upstream\ngit merge upstream/GA\n```\n\nOnce you are ready to submit your changes back to upstream you can create a pull request via [_github.com_](github.ibm.com). Ensuring that your base branch is `GA` and the head branch is `ENG-GA`. See image for details.\n\n![Pull Request](../forking/git-pull-request.png)\n\n## .gitignore\n\n### Untracking a single file\n\nTo untrack a single file that has already been added/initialized to your repository, i.e., stop tracking the file but not delete it from your system use:\n\n```shell\ngit rm --cached filename\n```\n\n### Untracking all files\n\nTo untrack every file that is now in your **.gitignore**:\n\n1. Commit any outstanding code changes, and then, run this command:\n\n   ```shell\n   git commit -m \"Commit message\"\n   ```\n\n2. This removes any changed files from the index(staging area), then just run:\n\n   ```shell\n   git rm -r --cached .\n   ```\n\n3. Add all tracked changes\n\n   ```shell\n   git add .\n   ```\n\n4. Commit it:\n\n   ```shell\n   git commit -m \".gitignore is now working\"\n   ```\n\n## Merge conflicts\n\n### Local changes to same files\n\nTo resolve merge conflicts with error.\n\n```shell\nerror: Your local changes to the following files would be overwritten by merge:\n```\n\nTo stash entire working tree\n\n```shell\ngit stash save --keep-index\n```\n\nNow you will be able to merge branch successfully\n\nIf you do not need your local changes you can simple drop the stash\n\n```shell\ngit stash drop\n```\n\nor...if you need your changes you can attempt to process them in now using pop\n\n```shell\ngit stash pop\n```\n\nTo show what is in your stash use show\n\n```shell\ngit stash show\n```\n\n## Undoing commits\n\n[source](http://stackoverflow.com/questions/927358/how-do-you-undo-the-last-commit)\n\n```shell\ngit commit -m \"Something terribly misguided\"\ngit reset --soft HEAD~\n# << edit files as necessary >>\ngit add ...\ngit commit -m \"New commit message\"\ngit commit -c ORIG_HEAD\n```\n\n[source](http://stackoverflow.com/questions/3197413/how-do-i-delete-unpushed-git-commits)\n\nDelete the most recent commit, keeping the work you've done:\n\n`git reset --soft HEAD~1`\n\nDelete the most recent commit, destroying the work you've done:\n\n`git reset --hard HEAD~1`\n\n## Other Configurations\n\n```shell\ngit config --global core.trustctime false\n```\n\n[source](https://stackoverflow.com/a/21891017/2218959)\n","fileAbsolutePath":"/home/runner/work/eng618.github.io/eng618.github.io/src/pages/code-notes/git.mdx"}}},"staticQueryHashes":["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}