"use strict";(self.webpackChunkengarcia=self.webpackChunkengarcia||[]).push([[3090],{3555:function(e,t,a){a.d(t,{Z:function(){return w}});var n=a(7294),r=a(2749),l=a.n(r),o=a(1082),s=a(4715),c=a(2093),i=a(8086),m=a.n(i);var u=e=>{let{title:t,theme:a,tabs:r=[]}=e;return n.createElement("div",{className:m()("PageHeader-module--page-header--36a7c",{"PageHeader-module--with-tabs--bdb43":r.length,"PageHeader-module--dark-mode--58278":"dark"===a})},n.createElement("div",{className:"cds--grid"},n.createElement("div",{className:"cds--row"},n.createElement("div",{className:"cds--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--12bd8"},t)))))};var d=e=>{let{relativePagePath:t,repository:a}=e;const{site:{siteMetadata:{repository:r}}}=(0,o.useStaticQuery)("1364590287"),{baseUrl:l,subDirectory:s,branch:c}=a||r,i=l+"/edit/"+c+s+"/src/pages"+t;return l?n.createElement("div",{className:"cds--row EditLink-module--row--04499"},n.createElement("div",{className:"cds--col"},n.createElement("a",{className:"EditLink-module--link--203ae",href:i},"Edit this page on GitHub"))):null},p=a(6471),h=a(1721);let g=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){const{title:e,tabs:t,slug:a}=this.props,r=a.split("/").filter(Boolean).slice(-1)[0],s=t.map((e=>{const t=l()(e,{lower:!0,strict:!0}),s=t===r,c=new RegExp(r+"/?(#.*)?$"),i=a.replace(c,t);return n.createElement("li",{key:e,className:m()({"PageTabs-module--selected-item--68107":s},"PageTabs-module--list-item--d36e2")},n.createElement(o.Link,{className:"PageTabs-module--link--2b3ff",to:""+i},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--09d7f"},n.createElement("div",{className:"cds--grid"},n.createElement("div",{className:"cds--row"},n.createElement("div",{className:"cds--col-lg-12 cds--col-no-gutter"},n.createElement("nav",{"aria-label":e},n.createElement("ul",{className:"PageTabs-module--list--c4bab"},s))))))},t}(n.Component);var b=g,k=a(2124),f=a(5387),N=a(4563);var v=e=>{let{date:t}=e;const a=new Date(t);return t?n.createElement(N.X2,{className:"last-modified-date-module--row--5c9a1"},n.createElement(N.sg,null,n.createElement("div",{className:"last-modified-date-module--text--a203d"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};var w=e=>{let{pageContext:t,children:a,location:r,Title:i}=e;const{frontmatter:m={},relativePagePath:h,titleType:g}=t,{tabs:N,title:w,theme:y,description:E,keywords:P,date:T}=m,{interiorTheme:D}=(0,f.Z)(),{site:{pathPrefix:x}}=(0,o.useStaticQuery)("2456312558"),C=x?r.pathname.replace(x,""):r.pathname,Z=N?C.split("/").filter(Boolean).slice(-1)[0]||l()(N[0],{lower:!0}):"",L=y||D;return n.createElement(c.Z,{tabs:N,homepage:!1,theme:L,pageTitle:w,pageDescription:E,pageKeywords:P,titleType:g},n.createElement(u,{title:i?n.createElement(i,null):w,label:"label",tabs:N,theme:L}),N&&n.createElement(b,{title:w,slug:C,tabs:N,currentTab:Z}),n.createElement(k.Z,{padded:!0},a,n.createElement(d,{relativePagePath:h}),n.createElement(v,{date:T})),n.createElement(p.Z,{pageContext:t,location:r,slug:C,tabs:N,currentTab:Z}),n.createElement(s.Z,null))}},5446:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return m}});var n=a(5987),r=(a(7294),a(498)),l=a(3555);const o=["components"],s={},c={_frontmatter:s},i=l.Z;function m(e){let{components:t}=e,a=(0,n.Z)(e,o);return(0,r.kt)(i,Object.assign({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"I follow git branching naming convention outline in this ",(0,r.kt)("a",{parentName:"p",href:"https://gist.github.com/digitaljhelms/4287848"},"gist"))),(0,r.kt)("p",null,"List all branches including remotes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch -a\n")),(0,r.kt)("h3",null,"Resetting local branch to match remote"),(0,r.kt)("p",null,"Setting your branch to exactly match the remote branch can be done in two steps:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git fetch origin\ngit reset --hard origin/master\n")),(0,r.kt)("p",null,"If you want to save your current branch’s state before doing this (just in case), you can do:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'git commit -a -m "Saving my work, just in case"\ngit branch my-saved-work\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tip: Also see git clean")),(0,r.kt)("h3",null,"Deleting a remote branch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git push origin :<branch-name>\n")),(0,r.kt)("h2",null,"Local branches"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sourced From:")," ",(0,r.kt)("a",{parentName:"p",href:"https://railsware.com/blog/2014/08/11/git-housekeeping-tutorial-clean-up-outdated-branches-in-local-and-remote-repositories/"},"Git housekeeping tutorial")),(0,r.kt)("p",null,"At first, list all local branches:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch\n")),(0,r.kt)("p",null,"We need to know what branches are already merged in “master” and can be easily removed:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git checkout master\ngit branch --merged\n")),(0,r.kt)("p",null,"Now, remove all outdated branches with:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch -d <branch-name-old-merged-feature>\n")),(0,r.kt)("p",null,"Next, decide what to do with not merged branches:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch --no-merged\n")),(0,r.kt)("p",null,"If some of them is just abandoned stuff that you don’t need anymore, remove it with “-D” option:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch -D old-abandoned-feature\n")),(0,r.kt)("h3",null,"References to remote branches"),(0,r.kt)("p",null,"After each git pull or git fetch command Git creates references to remote branches in local repository, but doesn’t clean up stale references."),(0,r.kt)("p",null,"List referenced remote branches:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git branch -r\n")),(0,r.kt)("p",null,"Clean-up outdated references:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git remote prune origin\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tip: Update repository with: ",(0,r.kt)("inlineCode",{parentName:"p"},"git fetch -p")," and Git automatically prunes all stale references.")),(0,r.kt)("h2",null,"Remote branches"),(0,r.kt)("p",null,"Usually, remote repository is a big garbage heap of stale branches, if there is no responsible housekeeping person."),(0,r.kt)("p",null,"After previous ",(0,r.kt)("inlineCode",{parentName:"p"},"git remote prune origin")," we should have synched list of remote branches."),(0,r.kt)("p",null,"At first, we can find branches which are already merged in “master”:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git checkout master\n$ git branch -r --merged\n")),(0,r.kt)("p",null,"But this command does not provide much information. What if this branch is merged, but still used for feature development. Would be cool to know last commit date and author."),(0,r.kt)("p",null,"This magic snippet provides all required information:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'for branch in `git branch -r --merged | grep -v HEAD`; do echo -e `git show --format="%ci %cr %an" $branch | head -n 1` \\\\t$branch; done | sort -r\n')),(0,r.kt)("p",null,"Now, you can delete own remote branches, and ask other authors to clean-up theirs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ git push origin --delete branch-name\n")),(0,r.kt)("p",null,"Similar snippet for not merged branches:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ for branch in `git branch -r --no-merged | grep -v HEAD`; do echo -e `git show --format="%ci %cr %an" $branch | head -n 1` \\\\t$branch; done | sort -r\n')),(0,r.kt)("p",null,"This list should be reviewed more thoroughly to avoid losing important commits."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---content-notes-git-branching-md-98a2ea10669914319498.js.map