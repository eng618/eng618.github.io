"use strict";(self.webpackChunkengarcia=self.webpackChunkengarcia||[]).push([[3116],{9106:function(e,n,t){t.r(n);var a=t(8453),l=t(6540);function c(e){const n=Object.assign({p:"p",h2:"h2",pre:"pre",code:"code",strong:"strong",ul:"ul",li:"li"},(0,a.R)(),e.components),{PageDescription:t,AnchorLinks:c,AnchorLink:s}=n;return s||r("AnchorLink",!0),c||r("AnchorLinks",!0),t||r("PageDescription",!0),l.createElement(l.Fragment,null,l.createElement(t,null,l.createElement(n.p,null,"Kubernetes notes and cheatsheet")),"\n",l.createElement(c,null,l.createElement(s,null,"Special use Cases"),l.createElement(s,null,"General Troubleshooting"),l.createElement(s,null,"Deleting A Namespace")),"\n",l.createElement(n.h2,null,"Special Use Cases"),"\n",l.createElement(n.p,null,"If you need too delete a pod, and can not wait for it to stop and terminate, you can force the delettions with the following:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell"},"kubectl delete pods -n <namespace> --grace-period=0 --force\n")),"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Flags")),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--grace-period"),": Period of time in seconds given to the resource to terminate gracefully. Ignored if negative. Set to 1 for immediate shutdown. Can only be set to 0 when â€”force is true (force deletion)."),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--force"),": Only used when grace-period=0. If true, immediately remove resources from API and bypass graceful deletion. Note that immediate deletion of some resources may result in inconsistency or data loss and requires confirmation."),"\n"),"\n",l.createElement(n.h2,null,"General Troubleshooting"),"\n",l.createElement(n.p,null,"Below are a few basic general areas to look into when trying to debug a issues depending on what the problem is."),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"Describe pod"),"\n",l.createElement(n.li,null,"logs pod"),"\n",l.createElement(n.li,null,"exec into pod to see whats going on"),"\n"),"\n",l.createElement(n.h2,null,"Deleting A Namespace"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell",metaData:"path=delete_namespace.sh src=https://github.ibm.com/engarcia/engarcia.github.ibm.com/blob/develop/bin/delete_namespace.sh"},'#!/bin/bash\n\n# ./delete_namespace.sh <namespace>\n\nexport k8s_namespace=$1\n\necho "~~ Removing deployments ~~"\nkubectl get deployment -n "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete deployment -n "$k8s_namespace" arg\necho ""\n\necho "~~ Removing statefulsets ~~"\nkubectl get statefulsets -n "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete statefulsets -n "$k8s_namespace" arg\necho ""\n\necho "~~ Removing jobs ~~"\nkubectl get jobs -n "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete job -n "$k8s_namespace" arg\necho ""\n\necho "~~ Removing pods ~~"\nkubectl get pods -n "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete pod -n "$k8s_namespace" arg --force --grace-period=0\necho ""\n\necho "~~ Removing secrets ~~"\nkubectl get secrets -n "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete secret -n "$k8s_namespace" arg\necho ""\n\necho "~~ Removing PVC\'s ~~"\nkubectl -n "$k8s_namespace" get pvc | grep -v NAME | awk \'{print $1}\' | xargs -I arg kubectl delete pvc -n "$k8s_namespace" arg\necho ""\n\necho "~~ Removing namespace ${k8s_namespace}  ~~"\nkubectl delete namespace "$k8s_namespace"\necho ""\n\necho "~~ Removing helm releases ~~"\nhelm ls --namespace "$k8s_namespace" | grep -v NAME | awk \'{print $1}\' | xargs -I arg helm delete --purge arg\necho ""\n\n')))}function r(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.R)(),e.components);return n?l.createElement(n,e,l.createElement(c,e)):c(e)}}}]);
//# sourceMappingURL=component---src-pages-code-notes-cheat-sheets-kubernetes-mdx-b384df137e656c9caa98.js.map